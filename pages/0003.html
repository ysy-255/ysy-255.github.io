<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>0003.html</title>
	<link rel="stylesheet" href="/css/default.css">
</head>
<body>
	<a href="/index.html">戻る</a>
	<h1>このページは未完成です</h1>
	<h1>PNGの仕様の概要</h1>
<pre>
	(2025/03/13時点)

	4.5 PNG image

	参照画像の変換を通して、以下に示す5種類のうちの1つのPNG画像を得る(図6)

	Truecolor with alpha:
		各ピクセルは4つのチャンネル Red, Green, Blue, Alpha で構成される
	Greyscale with alpha:
		各ピクセルは2つのチャンネル Gray, Alpha で構成される
	Truecolor:
		各ピクセルは3つのチャンネル Red, Green, Blue で構成される。
		ある単一のRGB値について、そのRGB値を持つピクセルが完全に透明であると定義することもできる。その場合、それ以外のピクセルは完全に不透明である。定義しない場合は、すべてのピクセルは完全に不透明である。
	Grayscale:
		各ピクセルは1つのチャンネル Grey をもつ。つまり、(黒から白の中の間で)輝度を表す。
		ある単一のGrey値について、そのGrey値をもつピクセルが完全に透明であると定義することもできる。その場合、それ以外のピクセルは完全に不透明である。定義しない場合は、すべてのピクセルは完全に不透明である。
	Indexed-color:
		各ピクセルはパレットへのインデックスで構成される。
		(また、もしあるようであれば、パレットに紐づけられたAlphaパレットへのインデックスとしても機能する)

	各ピクセルのフォーマットは image type と bit depth に依存する。
	Indexed-color以外のPNG画像では、 bit depth がチャンネルあたりのbit数を定める。(ピクセルあたりの総bit数でなく)
	Indexed-colorのPNG画像では、 bit depth はパレットへのインデックスのbit数を定める。(パレットが持つ色についてのbit数ではない)
	ピクセル内で各チャンネルが並ぶ順番は image type に依存し、以下に示される。

	Truecolor with alpha: red green blue alpha
    Greyscale with alpha: grey alpha
    Truecolor: red green blue
    Greyscale: grey
    Indexed-color: パレットへのインデックス

	4.6 Encoding the PNG image

	PNG画像のエンコード処理の概念的なモデルは図7にて示される。
	この処理はピクセルの配列または(パレットへの)インデックスの配列への操作を指している。
	この処理内においてパレットやAlphaパレットはエンコードされない。

	1. Pass extraction:
		プログレッシブな表示を可能とするために、PNG画像のピクセルは縮小画像やパスと呼ばれるいくつかの小さな画像に編成し直すことができる
	2. Scanline serialization:
		画像は連続したスキャンラインに一度に分割される。スキャンライン中のピクセルの並びは左から右で、スキャンラインの並びは上から下である
	3. Filtering:
		定義されたフィルタから各スキャンラインにつき1つのフィルタを選びフィルタリングし、この後の画像圧縮に準備する
	4. Compression:
		画像内のすべてのスキャンラインに対して行う
	5. Chunking:
		圧縮された画像を適切な大きさのチャンクに分割される。各チャンクには誤り検出符号が付加される。
	
	4.6.1 Pass extraction
	パス抽出(図7)ではPNG画像を縮小画像の並びに分割する。最初の画像は粗い表示を提供し、最後の画像でPNG画像の読み込みが完了するまでは後続の画像がその表示を改善していく。
	これらの縮小画像はインタレースPNG画像とも呼ぶ。
	この仕様では2つのインタレース手法を定義する。
	1つ目の手法では、インタレースを使用しない。ピクセルは左から右へ連続してスキャンラインへ格納され、スキャンラインは上から下に連続して格納される。
	2つ目の手法では、画像を通して複数回走査し、7つの縮小画像を生成する。7つの走査は図7にて図解されている。
	8. Interlacing and pass extraction を参照すること。
	
	16462646
	77777777
	56565656
	77777777
	36463646
	77777777
	56565656
	77777777
	
	↓6,7を無視したもの
	1424
	5555
	3434
	5555

	4.6.2 Scanline serialization
	画像内の各行はスキャンラインと呼ばれ、バイト列で表現される

	

</pre>
</body>
</html>
